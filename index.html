<!DOCTYPE html>
<html lang="en">
<head>
  <title>Evapotranspiration</title>
  <meta charset="UTF-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://d3js.org/topojson.v2.min.js"></script>
</head>
<body>
<script>
    let width = 975;
    let height = 610;

    let svg = d3.select('body')
        .append('svg')
        .attr('width', width)
        .attr('height', height);

    let path = d3.geoPath();

    Promise.all([
            d3.json('us.json')
        ])
        .then(ready);

    function ready([us]) {
        svg.append('g')
            .attr('class', 'counties')
            .attr('fill', 'none')
            .selectAll('path')
            .data(topojson.feature(us, us.objects.counties).features)
            .enter()
            .append('path')
            .attr('fill', '#d3d3d3')
            .attr('stroke', '#808080')
            .attr('stroke-weight', '1px')
            .attr('d', path);

        svg.append('path')
            .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))
            .attr('class', 'states')
            .attr('fill', 'none')
            .attr('stroke', '#000')
            .attr('stroke-width', '1px')
            .attr('d', path);

        svg.append('path')
            .datum(topojson.mesh(us, us.objects.nation))
            .attr('class', 'nation')
            .attr('fill', 'none')
            .attr('stroke', '#000')
            .attr('stroke-width', '1px')
            .attr('d', path);
    }
</script>
</body>